<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masjid Prayer Times</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
</head>

<body>

    <div class="container">
        <!-- Header: Time and Date -->
        <header>
            <div id="clock">00:00:00</div>
            <div id="date">Loading Date...</div>
            <div id="hijri-date">Loading Hijri...</div>
            <div id="location-display" class="location-text">Loading Location...</div>
        </header>

        <!-- Main Content: Prayer Times -->
        <main>
            <div class="prayer-times-list" id="prayer-list">
                <!-- Header Row -->
                <div class="prayer-header">
                    <span>Prayer</span>
                    <span>Azan</span>
                    <span>Iqamah</span>
                </div>
                <!-- Prayer items will be injected here by JS -->
            </div>

            <!-- Next Prayer Logic -->
            <div class="next-prayer-container">
                <h2>Next Prayer / Iqamah</h2>
                <div id="next-prayer-name">--</div>
                <div id="countdown">--:--:--</div>
                <div id="next-iqamah_time" style="font-size: 1.5rem; margin-top: 10px; color: var(--text-secondary);">
                </div>
            </div>
        </main>

        <!-- Ticker -->
        <div class="ticker-wrap">
            <div class="ticker" id="ticker-content">
                Welcome to the Masjid. Please silence your mobile phones. | Fasting on days of White (13, 14, 15) is
                specific to the Hijri calendar.
            </div>
        </div>

        <!-- Ticker -->
        <div class="ticker-wrap">
            <div class="ticker" id="ticker-content">
                Welcome to the Masjid. Please silence your mobile phones. | Fasting on days of White (13, 14, 15) is
                specific to the Hijri calendar.
            </div>
        </div>

        <!-- Footer / Settings -->
        <footer>
            <button id="settings-btn" aria-label="Settings">‚öôÔ∏è Settings</button>
            <button id="audio-btn" aria-label="Toggle Azan">üîî Azan Off</button>
            <button id="fullscreen-btn" aria-label="Fullscreen">‚õ∂ Fullscreen</button>
        </footer>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Setup Location & Configuration</h2>
            <form id="settings-form">
                <div class="form-group">
                    <label>Location</label>
                    <input type="text" id="city" name="city" placeholder="City (e.g. Mecca)" required>
                    <input type="text" id="country" name="country" placeholder="Country (e.g. Saudi Arabia)" required
                        style="margin-top: 5px;">
                </div>

                <div class="form-group">
                    <label>Ticker Message</label>
                    <input type="text" id="ticker-text" placeholder="Announcements...">
                </div>

                <div class="form-group">
                    <label>Calculation Method</label>
                    <select id="calc-method">
                        <option value="2">ISNA (North America)</option>
                        <option value="3">MWL (Muslim World League)</option>
                        <option value="4">Makkah (Umm al-Qura)</option>
                        <option value="1">Karachi (University of Islamic Sciences)</option>
                        <option value="5">Egyptian General Authority</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Asr Juristic Method</label>
                    <select id="asr-method">
                        <option value="0">Standard (Shafi, Maliki, Hanbali)</option>
                        <option value="1">Hanafi</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Manual Adjustments (Minutes)</label>
                    <p style="font-size: 0.8rem; color: #888; margin-bottom: 10px;">Add/Subtract minutes from Azan time
                    </p>
                    <div class="iqamah-inputs">
                        <div class="input-row">
                            <label>Fajr:</label>
                            <input type="number" id="adj-Fajr" placeholder="0">
                        </div>
                        <div class="input-row">
                            <label>Dhuhr:</label>
                            <input type="number" id="adj-Dhuhr" placeholder="0">
                        </div>
                        <div class="input-row">
                            <label>Asr:</label>
                            <input type="number" id="adj-Asr" placeholder="0">
                        </div>
                        <div class="input-row">
                            <label>Maghrib:</label>
                            <input type="number" id="adj-Maghrib" placeholder="0">
                        </div>
                        <div class="input-row">
                            <label>Isha:</label>
                            <input type="number" id="adj-Isha" placeholder="0">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Iqamah Offsets (Minutes)</label>
                    <p style="font-size: 0.8rem; color: #888; margin-bottom: 10px;">Enter mintues (e.g. 15) or fixed
                        time (e.g. 13:30)</p>

                    <div class="iqamah-inputs">
                        <div class="input-row">
                            <label>Fajr:</label>
                            <input type="text" id="iqamah-Fajr" placeholder="+20 or 05:30">
                        </div>
                        <div class="input-row">
                            <label>Dhuhr:</label>
                            <input type="text" id="iqamah-Dhuhr" placeholder="+15 or 12:45">
                        </div>
                        <div class="input-row">
                            <label>Asr:</label>
                            <input type="text" id="iqamah-Asr" placeholder="+15 or 15:45">
                        </div>
                        <div class="input-row">
                            <label>Maghrib:</label>
                            <input type="text" id="iqamah-Maghrib" placeholder="+5 or 18:30">
                        </div>
                        <div class="input-row">
                            <label>Isha:</label>
                            <input type="text" id="iqamah-Isha" placeholder="+15 or 20:00">
                        </div>
                        <div class="input-row">
                            <label>Jumuah:</label>
                            <input type="text" id="iqamah-Jumuah" placeholder="12:30">
                        </div>
                    </div>
                </div>

                <button type="submit">Save & Update</button>
                <button type="button" id="close-modal">Cancel</button>
            </form>
        </div>
    </div>

    <!-- Hidden Audio Element -->
    <audio id="azan-audio" src="https://www.islamcan.com/audio/adhan/azan1.mp3" preload="none"></audio>

    <script src="script.js"></script>
</body>

</html>